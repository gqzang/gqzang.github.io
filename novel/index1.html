<html> 
    <head> 
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 

        <script>
            $(document).ready( () => {
                $("#call").click( () => {
                    let LM; $.get( "https://gz-gae.appspot.com/link-map", {}, data => LM = data )

                    $.support.cors = true
                    let t = 0, ls = setInterval( () => $('#info').html( "-\\|/"[ (t ++) % 4 ] ), 250 )
                    $('#list').html("")
                    $.get( "https://gz-gae.appspot.com/update", {}, data => {
                        clearInterval(ls) 
                        const rec = data.split('\n').filter(_=>_)
                        $('#info').html( rec.shift() )

                        const ol = document.createElement('ol')
                        document.getElementById('list').appendChild(ol)
                        rec.forEach( u => { 
                            let [name, info] = u.split('---'); name = name.trim()
                            const link = "<a href='" + LM[name] + "' target='" + name + "'>" + name + "</a>"
                            const li = document.createElement('li')
                            ol.appendChild(li);
                            li.innerHTML = link + ' ---' + info
                        })
                    })
                    .fail( () => clearInterval(ls) || $('#info').html("Server error!") )
                })
            })
        
        </script> 
    </head> 

    <body background="cloud.png"> 
        <button id="call">Updates:</button> &nbsp;&nbsp; <span id="info"></span>
        <div id="list"></div>
    </body> 
</html> 